{"componentChunkName":"component---src-templates-blog-post-js","path":"/optional-chaining/","result":{"data":{"site":{"siteMetadata":{"title":"itsopensource"}},"markdownRemark":{"id":"5a6fd852-76d2-51b8-a3a0-7f3842a9ff53","excerpt":"has bugged every javascript developer enough. While expecting a response from APIs, we need to add several  to make sure our code doesn’t break. This may be not…","html":"<p><code class=\"language-text\">TypeError: Cannot read property '&lt;property>' of undefined</code> has bugged every javascript developer enough. While expecting a response from APIs, we need to add several <code class=\"language-text\">&amp;&amp;</code> to make sure our code doesn’t break. This may be not a problem while dealing with 2 levels of the nested object, but while dealing with large data objects this can be a nightmare. Unnecessary/redundant lines of code, change all occurrences if the structure of object changes, etc.</p>\n<p>But we are now in 2020, the game has been changed with <a href=\"https://github.com/tc39/proposal-optional-chaining\">Optional Chaining proposal</a> Stage-4.</p>\n<p>Now no more redundant lines, but adding <code class=\"language-text\">?</code> before <code class=\"language-text\">.</code> takes care of everything. This traverse the property chain one by one and returns <code class=\"language-text\">undefined</code> if the property doesn’t exist (instead of throwing <code class=\"language-text\">TypeError</code>), else return the value.</p>\n<p>Consider following JSON object</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  solar_system<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    earth<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      asia<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        india<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          delhi<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n            good_food<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>The javascript code would look like</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;above JSON object></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> hasGoodFood <span class=\"token operator\">=</span> \n  data<span class=\"token punctuation\">.</span>solar_system <span class=\"token operator\">&amp;&amp;</span>\n  data<span class=\"token punctuation\">.</span>solar_system<span class=\"token punctuation\">.</span>earth <span class=\"token operator\">&amp;&amp;</span>\n  data<span class=\"token punctuation\">.</span>solar_system<span class=\"token punctuation\">.</span>earth<span class=\"token punctuation\">.</span>asia <span class=\"token operator\">&amp;&amp;</span>\n  data<span class=\"token punctuation\">.</span>solar_system<span class=\"token punctuation\">.</span>earth<span class=\"token punctuation\">.</span>asia<span class=\"token punctuation\">.</span>india <span class=\"token operator\">&amp;&amp;</span>\n  data<span class=\"token punctuation\">.</span>solar_system<span class=\"token punctuation\">.</span>earth<span class=\"token punctuation\">.</span>asia<span class=\"token punctuation\">.</span>india<span class=\"token punctuation\">.</span>delhi <span class=\"token operator\">&amp;&amp;</span>\n  data<span class=\"token punctuation\">.</span>solar_system<span class=\"token punctuation\">.</span>earth<span class=\"token punctuation\">.</span>asia<span class=\"token punctuation\">.</span>india<span class=\"token punctuation\">.</span>delhi<span class=\"token punctuation\">.</span>good_food<span class=\"token punctuation\">;</span></code></pre></div>\n<p>But with optional chaining the whole code can be put into 1 line</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;above JSON object></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> hasGoodFood <span class=\"token operator\">=</span> data<span class=\"token operator\">?.</span>solar_system<span class=\"token operator\">?.</span>earth<span class=\"token operator\">?.</span>asia<span class=\"token operator\">?.</span>india<span class=\"token operator\">?.</span>delhi<span class=\"token operator\">?.</span>good_food<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// true;</span></code></pre></div>\n<p>Also</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">&lt;above JSON object></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> hasGoodFood <span class=\"token operator\">=</span> data<span class=\"token operator\">?.</span>solar_system<span class=\"token operator\">?.</span>earth<span class=\"token operator\">?.</span>asia<span class=\"token operator\">?.</span>philippines<span class=\"token operator\">?.</span>delhi<span class=\"token operator\">?.</span>good_food<span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// undefined;</span></code></pre></div>\n<p>The object don’t have <code class=\"language-text\">philippines</code>, instead of throwing <code class=\"language-text\">TypeError</code> it returns <code class=\"language-text\">undefined</code>.</p>\n<p>This is a <a href=\"https://tc39.es/process-document\">TC39</a> stage-4 proposal. This means <code class=\"language-text\">The addition will be included in the soonest practical standard revision.</code> in all the modern browsers.</p>\n<p>But if you do not want to wait for using this already into your code, you can include the <a href=\"https://babeljs.io/docs/en/next/babel-plugin-proposal-optional-chaining.html\">Babel</a> plugin in your project to support this already.</p>\n<p>If you want to see this in action, this can be enabled in chrome browser with the following steps:</p>\n<ol>\n<li>Go to <code class=\"language-text\">chrome://flags</code></li>\n<li>Search for <code class=\"language-text\">experimental javascript</code></li>\n<li>Toggle the feature to <code class=\"language-text\">enable</code></li>\n<li>Relaunch the browser.</li>\n</ol>\n<hr>\n<p>*Always keep an eye on <a href=\"https://github.com/tc39/proposals\">TC39</a> proposals for amazing additions to our beloved Javascript</p>\n<hr>\n<center><sub>Somethings never change</sub></center>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8d45801f7ca6af8e832660b3687cee02/2cb21/withoutOC.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20.945945945945947%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAwElEQVR42l3NWwuCQBAFYIMsfanETEUxyDW7eN00uxAUPdVT///PnGa3pPBhOHu+YVhlHccosxppwpFkCYo8RxRFYIyBheEnuyO8nY4rcZKirHZIywKbLENIHyyWS5nd939nq9XPyRaUEZlyDea4xyEugYeD66KybZx9H7XjgM9mOHmetIZ2wtpeWBb414WJ241hQDkMh+CDAe7jCR6miac5xYsOb6ORnKOuy/1e0+SIvqNe9PvgqiqtIWsot70e3mmWcDLe6K//AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Without Optional chaining\"\n        title=\"\"\n        src=\"/static/8d45801f7ca6af8e832660b3687cee02/fcda8/withoutOC.png\"\n        srcset=\"/static/8d45801f7ca6af8e832660b3687cee02/12f09/withoutOC.png 148w,\n/static/8d45801f7ca6af8e832660b3687cee02/e4a3f/withoutOC.png 295w,\n/static/8d45801f7ca6af8e832660b3687cee02/fcda8/withoutOC.png 590w,\n/static/8d45801f7ca6af8e832660b3687cee02/efc66/withoutOC.png 885w,\n/static/8d45801f7ca6af8e832660b3687cee02/c83ae/withoutOC.png 1180w,\n/static/8d45801f7ca6af8e832660b3687cee02/2cb21/withoutOC.png 2174w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<center><sub>Somethings do :) </sub></center>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/22edb0a64a66506bbbd32a1d51673ee0/1078c/withOC.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 23.64864864864865%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAXElEQVR42q3OyxGAIAyEYXoJrxFJNBmw/8pWpATw8F32sPM7lY77elDqCTPDUQpCCIgxLnF6K1QVIoyc8xy/w1WuNUPvhjLKvPfbHDNDhjqklLbqZiGRBxFNfxS+zsqQir5LkbQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"With Optional chaining\"\n        title=\"\"\n        src=\"/static/22edb0a64a66506bbbd32a1d51673ee0/fcda8/withOC.png\"\n        srcset=\"/static/22edb0a64a66506bbbd32a1d51673ee0/12f09/withOC.png 148w,\n/static/22edb0a64a66506bbbd32a1d51673ee0/e4a3f/withOC.png 295w,\n/static/22edb0a64a66506bbbd32a1d51673ee0/fcda8/withOC.png 590w,\n/static/22edb0a64a66506bbbd32a1d51673ee0/efc66/withOC.png 885w,\n/static/22edb0a64a66506bbbd32a1d51673ee0/c83ae/withOC.png 1180w,\n/static/22edb0a64a66506bbbd32a1d51673ee0/1078c/withOC.png 2180w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>","frontmatter":{"title":"Optional Chaining","tags":["javascript"],"date":"January 17, 2020","description":"TypeError has bugged every Javascript developer enough. While expecting response from APIs, we need to add a number of && to make sure our code don't break","author":"trishul","featuredImage":null}}},"pageContext":{"slug":"/optional-chaining/","previous":{"fields":{"slug":"/get-started-with-web-wrokers/"},"frontmatter":{"author":"trishul","tags":["webworkers","performance","javascript"],"title":"Get started with web workers"}},"next":{"fields":{"slug":"/how-to-always-keep-files-open-in-vs-code/"},"frontmatter":{"author":"shivam","tags":["vscode","tricks","how-to"],"title":"How to always keep files open in Visual Studio Code"}}}},"staticQueryHashes":["4268877247","764694655"],"slicesMap":{}}